{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACZC,OAAQC,SAASC,cAAc,SAC/BC,UAAWF,SAASC,cAAc,oBAE7BE,EAAO,CAEZC,WAAY,EACZC,UAAW,EACXC,YAAa,GA4Cd,SAASC,EAAcC,EAAUC,GAChC,IAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAAKC,GACxBC,YAAW,WACNN,EAEHI,EAAI,CAAEN,WAAUC,UAGhBM,EAAI,CAAEP,WAAUC,S,GAEfA,E,IAnDLX,EAAKC,OAAOkB,iBAAiB,UAiB7B,SAAsBC,GACrBA,EAAEC,iBACFrB,EAAKI,UAAUkB,UAAW,EAE1B,IADA,IAAIC,EAAYlB,EAAKC,WACZkB,EAAI,EAAGA,EAAInB,EAAKG,YAAagB,GAAK,EAC1Cf,EAAce,EAAI,EAAGD,GACnBE,MAAK,SAAAC,G,IAAGhB,EAAQgB,EAARhB,SAAUC,EAAKe,EAALf,MAClBb,EAAA6B,OAAOC,QAAQ,uBAAwCC,OAAfnB,EAAS,QAAYmB,OAANlB,EAAM,OACzDD,IAAaL,EAAKG,cACrBR,EAAKI,UAAUkB,UAAW,E,IAG3BQ,OAAM,SAAAJ,G,IAAGhB,EAAQgB,EAARhB,SAAUC,EAAKe,EAALf,MACnBb,EAAA6B,OAAOI,QAAQ,sBAAqCF,OAAfnB,EAAS,QAAYmB,OAANlB,EAAM,OACtDD,IAAaL,EAAKG,cACrBR,EAAKI,UAAUkB,UAAW,E,IAG7BC,GAAalB,EAAKE,S,IAlCpBP,EAAKC,OAAOkB,iBAAiB,UAI7B,SAAsBC,GACC,UAAlBA,EAAEY,OAAOC,OACZ5B,EAAKC,WAAa4B,OAAOd,EAAEY,OAAOG,QAEb,SAAlBf,EAAEY,OAAOC,OACZ5B,EAAKE,UAAY2B,OAAOd,EAAEY,OAAOG,QAEZ,WAAlBf,EAAEY,OAAOC,OACZ5B,EAAKG,YAAc0B,OAAOd,EAAEY,OAAOG,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n\tformEl: document.querySelector('.form'),\n\tsubmitBtn: document.querySelector('[type = submit]')\n}\nconst data = {\n\t// isCount: false,\n\tdelayValue: 0,\n\tstepValue: 0,\n\tamountValue: 0,\n}\n\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.formEl.addEventListener('change', onFormChange);\n\n\n\nfunction onFormChange(e) {\n\tif (e.target.name === 'delay') {\n\t\tdata.delayValue = Number(e.target.value);\n\t}\n\tif (e.target.name === 'step') {\n\t\tdata.stepValue = Number(e.target.value);\n\t}\n\tif (e.target.name === 'amount') {\n\t\tdata.amountValue = Number(e.target.value);\n\t}\n}\n\nfunction onFormSubmit(e) {\n\te.preventDefault();\n\trefs.submitBtn.disabled = true;\n\tlet saveDelay = data.delayValue;\n\tfor (let i = 0; i < data.amountValue; i += 1) {\n\t\tcreatePromise(i + 1, saveDelay)\n\t\t\t.then(({ position, delay }) => {\n\t\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\t\t\t\tif (position === data.amountValue) {\n\t\t\t\t\trefs.submitBtn.disabled = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(({ position, delay }) => {\n\t\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n\t\t\t\tif (position === data.amountValue) {\n\t\t\t\t\trefs.submitBtn.disabled = false;\n\t\t\t\t}\n\t\t\t});\n\t\tsaveDelay += data.stepValue;\n\t}\n\t\n}\n\nfunction createPromise(position, delay) {\n\tconst shouldResolve = Math.random() > 0.3;\n\treturn new Promise((res, rej) => {\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\t// Fulfill\n\t\t\t\tres({ position, delay });\n\t\t\t} else {\n\t\t\t\t// Reject\n\t\t\t\trej({ position, delay });\n\t\t\t}\n\t\t}, delay);\n\t})\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$refs","formEl","document","querySelector","submitBtn","$ce04d3a99e08e73b$var$data","delayValue","stepValue","amountValue","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","res","rej","setTimeout","addEventListener","e","preventDefault","disabled","saveDelay","i","then","param","Notify","success","concat","catch","failure","target","name","Number","value"],"version":3,"file":"03-promises.83a65ebb.js.map"}