{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACZC,OAAQC,SAASC,cAAc,UAE1BC,EAAO,CACZC,WAAY,EACZC,UAAW,EACXC,YAAa,GAmCd,SAASC,EAAcC,EAAUC,GAChC,IAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAAKC,GACxBC,YAAW,WACNN,EAEHI,EAAI,CAAEN,WAAUC,UAGhBM,EAAI,CAAEP,WAAUC,S,GAEfA,E,IA3CLV,EAAKC,OAAOiB,iBAAiB,UAiB7B,SAAsBC,GACrBA,EAAEC,iBAEF,IADA,IAAIC,EAAYjB,EAAKC,WACZiB,EAAI,EAAGA,EAAIlB,EAAKG,YAAae,GAAK,EAC1Cd,EAAcc,EAAI,EAAGD,GACnBE,MAAK,SAAAC,G,IAAGf,EAAQe,EAARf,SAAUC,EAAKc,EAALd,MAClBZ,EAAA2B,OAAOC,QAAQ,uBAAwCC,OAAflB,EAAS,QAAYkB,OAANjB,EAAM,M,IAE7DkB,OAAM,SAAAJ,G,IAAGf,EAAQe,EAARf,SAAUC,EAAKc,EAALd,MACnBZ,EAAA2B,OAAOI,QAAQ,sBAAqCF,OAAflB,EAAS,QAAYkB,OAANjB,EAAM,M,IAE5DW,GAAajB,EAAKE,S,IA3BpBN,EAAKC,OAAOiB,iBAAiB,UAI7B,SAAsBC,GACC,UAAlBA,EAAEW,OAAOC,OACZ3B,EAAKC,WAAa2B,OAAOb,EAAEW,OAAOG,QAEb,SAAlBd,EAAEW,OAAOC,OACZ3B,EAAKE,UAAY0B,OAAOb,EAAEW,OAAOG,QAEZ,WAAlBd,EAAEW,OAAOC,OACZ3B,EAAKG,YAAcyB,OAAOb,EAAEW,OAAOG,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n\tformEl: document.querySelector('.form'),\n}\nconst data = {\n\tdelayValue: 0,\n\tstepValue: 0,\n\tamountValue: 0,\n}\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.formEl.addEventListener('change', onFormChange);\n\n\n\nfunction onFormChange(e) {\n\tif (e.target.name === 'delay') {\n\t\tdata.delayValue = Number(e.target.value);\n\t}\n\tif (e.target.name === 'step') {\n\t\tdata.stepValue = Number(e.target.value);\n\t}\n\tif (e.target.name === 'amount') {\n\t\tdata.amountValue = Number(e.target.value);\n\t}\n}\n\nfunction onFormSubmit(e) {\n\te.preventDefault();\n\tlet saveDelay = data.delayValue;\n\tfor (let i = 0; i < data.amountValue; i += 1) {\n\t\tcreatePromise(i + 1, saveDelay)\n\t\t\t.then(({ position, delay }) => {\n\t\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\t\t\t})\n\t\t\t.catch(({ position, delay }) => {\n\t\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n\t\t\t});\n\t\tsaveDelay += data.stepValue;\n\t}\n}\n\nfunction createPromise(position, delay) {\n\tconst shouldResolve = Math.random() > 0.3;\n\treturn new Promise((res, rej) => {\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\t// Fulfill\n\t\t\t\tres({ position, delay });\n\t\t\t} else {\n\t\t\t\t// Reject\n\t\t\t\trej({ position, delay });\n\t\t\t}\n\t\t}, delay);\n\t})\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$refs","formEl","document","querySelector","$ce04d3a99e08e73b$var$data","delayValue","stepValue","amountValue","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","res","rej","setTimeout","addEventListener","e","preventDefault","saveDelay","i","then","param","Notify","success","concat","catch","failure","target","name","Number","value"],"version":3,"file":"03-promises.30f9f400.js.map"}