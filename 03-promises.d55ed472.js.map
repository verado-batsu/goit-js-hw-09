{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACZC,OAAQC,SAASC,cAAc,UAE1BC,EAAO,CACZC,WAAY,EACZC,UAAW,EACXC,YAAa,GAmCd,SAASC,EAAcC,EAAUC,GAChC,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAAKC,KACxBC,YAAW,KACNN,EAEHI,EAAI,C,SAAEN,E,MAAUC,IAGhBM,EAAI,C,SAAEP,E,MAAUC,GAAQ,GAEvBA,EAAM,G,CA3CXV,EAAKC,OAAOiB,iBAAiB,UAiB7B,SAAsBC,GACrBA,EAAEC,iBACF,IAAIC,EAAYjB,EAAKC,WACrB,IAAK,IAAIiB,EAAI,EAAGA,EAAIlB,EAAKG,YAAae,GAAK,EAC1Cd,EAAcc,EAAI,EAAGD,GACnBE,MAAK,EAACd,SAAEA,EAAQC,MAAEA,MAClBZ,EAAA0B,OAAOC,QAAQ,uBAAqBhB,QAAiBC,MAAU,IAE/DgB,OAAM,EAACjB,SAAEA,EAAQC,MAAEA,MACnBZ,EAAA0B,OAAOG,QAAQ,sBAAoBlB,QAAeC,MAAU,IAE9DW,GAAajB,EAAKE,S,IA3BpBN,EAAKC,OAAOiB,iBAAiB,UAI7B,SAAsBC,GACC,UAAlBA,EAAES,OAAOC,OACZzB,EAAKC,WAAayB,OAAOX,EAAES,OAAOG,QAEb,SAAlBZ,EAAES,OAAOC,OACZzB,EAAKE,UAAYwB,OAAOX,EAAES,OAAOG,QAEZ,WAAlBZ,EAAES,OAAOC,OACZzB,EAAKG,YAAcuB,OAAOX,EAAES,OAAOG,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n\tformEl: document.querySelector('.form'),\n}\nconst data = {\n\tdelayValue: 0,\n\tstepValue: 0,\n\tamountValue: 0,\n}\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.formEl.addEventListener('change', onFormChange);\n\n\n\nfunction onFormChange(e) {\n\tif (e.target.name === 'delay') {\n\t\tdata.delayValue = Number(e.target.value);\n\t}\n\tif (e.target.name === 'step') {\n\t\tdata.stepValue = Number(e.target.value);\n\t}\n\tif (e.target.name === 'amount') {\n\t\tdata.amountValue = Number(e.target.value);\n\t}\n}\n\nfunction onFormSubmit(e) {\n\te.preventDefault();\n\tlet saveDelay = data.delayValue;\n\tfor (let i = 0; i < data.amountValue; i += 1) {\n\t\tcreatePromise(i + 1, saveDelay)\n\t\t\t.then(({ position, delay }) => {\n\t\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\t\t\t})\n\t\t\t.catch(({ position, delay }) => {\n\t\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n\t\t\t});\n\t\tsaveDelay += data.stepValue;\n\t}\n}\n\nfunction createPromise(position, delay) {\n\tconst shouldResolve = Math.random() > 0.3;\n\treturn new Promise((res, rej) => {\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\t// Fulfill\n\t\t\t\tres({ position, delay });\n\t\t\t} else {\n\t\t\t\t// Reject\n\t\t\t\trej({ position, delay });\n\t\t\t}\n\t\t}, delay);\n\t})\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","formEl","document","querySelector","$47d4ff9957288465$var$data","delayValue","stepValue","amountValue","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","res","rej","setTimeout","addEventListener","e","preventDefault","saveDelay","i","then","Notify","success","catch","failure","target","name","Number","value"],"version":3,"file":"03-promises.d55ed472.js.map"}